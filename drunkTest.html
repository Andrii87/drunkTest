<!DOCTYPE html>
<html>
<head>
	<title>Drunk Test</title>
</head>
<body>
	<canvas height="600" width="600" style="border: 2px solid #000000; " fill id="myCanvas"></canvas>
	<script >
		var myCanvas = document.getElementById('myCanvas').getContext('2d');
		var boxX=200;
		var boxY=200;
		var canvasColor='gray';
		var messageText="This is drunkinnes test. Use arrows to move.";
		var Task1Done=false;
		var Task2Done=false;
		var Task3Done=false;

		

		 	drawCanvas = function(){	
		 		myCanvas.fillStyle =canvasColor;
		 		myCanvas.fillRect(0,0,600,600);
		 	}

		 	drawBox = function(){
			 	myCanvas.fillStyle = 'red';
			 	myCanvas.fillRect(boxX,boxY,50,50);
		 	}

		 	drawText = function(){
		 		myCanvas.fillStyle ='white';
			 	myCanvas.font = '30px Calibry';
			 	//MyCanvas.fontColor ='white';
				myCanvas.fillText(messageText, 50,100);//перв.- отступ с лева, 250 - отступ сверху.
			}

		 	drawAll = function(){
				drawCanvas();
				drawText();
				drawBox();
			}

			drawAll();
		 	

		 	

			//---------------moving box ----------------//
		 	document.onkeydown = function(event){
			 	if (event.keyCode == 38){//up
			 		boxY-=25;  //выше на 20 пунктов
			 		drawAll();

			 	}
			 	if (event.keyCode == 40){//down
			 		boxY+=25;  //ниже на 20 нунктов
			 		drawAll();
			 	}
			 	if (event.keyCode == 37){//left
			 		boxX-=25;  //влево на 20 нунктов
			 		drawAll();
			 	}
			 	if (event.keyCode == 39){//left
			 		boxX+=25;  //правее на 20 нунктов
			 		drawAll();
			 	}
			 	//---------------moving box --end----------//
			 	
			 	console.log('boxX:'+boxX+'boxY:'+boxY);
			 	if (Task1Done==false){
			 		messageText="Move box to the right bottom corner";
			 	}
			 	
				if (boxX>530 && boxY>530){
					Task1Done=true;
					canvasColor ='green';
					messageText="Good!";
					
					drawAll();
					messageText="Now move the box to the upper left corner";

				}
				if ((Task1Done==true)&&(boxX<20 && boxY<20)){
					Task2Done=true;
					canvasColor ='blue';
					messageText="Good!";
					
					drawAll();
					messageText="Now move the box to the bottom left corner";

				}
				if ((Task2Done==true)&&(boxX<20 && boxY>530)){
					Task3Done=true;
					canvasColor ='red';
					messageText="Good!";
					
					drawAll();
					messageText="Now move the box to the top right corner...";

				}
				if ((Task3Done==true)&&(boxX>520 && boxY<30)){
					Task3Done=true;
					canvasColor ='red';
					messageText="Good! You are not drunk! Congratulations!";
					
					drawAll();
					messageText="Now move the box to the bottom left corner";

				}
				//--------loosing conditions-------
				if (((boxX<0)||(boxX>550))||((boxY<0)||(boxY>550))){
					canvasColor ='pinterest';
					messageText="You crashed into a wall. You are drunk!";

					drawAll();
					myCanvas.fillStyle ='white';
			 		myCanvas.font = '30px Calibry';
			 		//MyCanvas.fontColor ='white';
					myCanvas.fillText("Reload page to start ower", 100,200);//перв.- отступ с лева, 250 - отступ сверху.

				}

			 }
			
		

	

		

	</script>
</body>
</html>
